"use strict";jQuery(function(o){o(".js-drawer").click(function(){o(this).toggleClass("active"),o(".js-drawer-open").toggleClass("is-open")}),o(".js-drawer-open a").click(function(){o(".js-drawer").removeClass("active"),o(".js-drawer-open").removeClass("is-open")}),o(".p-header__title a").click(function(){o(".js-drawer").removeClass("active"),o(".js-drawer-open").removeClass("is-open")}),o(window).on("resize",function(){o(".js-drawer").removeClass("active"),o(".js-drawer-open").removeClass("is-open")});var r=o(".p-pagetop");function e(){o(".js-fadeInTrigger").each(function(){var e=o(this).offset().top-50,r=o(window).scrollTop(),t=o(window).height();o(this).addClass("u-fadeIn"),e-t<=r&&o(this).addClass("u-fadeIn-active")})}r.hide(),o(window).scroll(function(){var e=o("#header").innerHeight(),e=o("#about").offset().top-e;o(this).scrollTop()>e?(r.fadeIn(),o(".p-header").css("background-color","rgba(0 ,0 ,0 ,0.8)")):(r.fadeOut(),o(".p-header").css("background-color","rgba(0 ,0 ,0 ,1)")),o(".p-header").css("transition","all 0.3s")}),r.click(function(){return o("body,html").animate({scrollTop:0},400,"swing"),!1}),o(document).ready(function(){o(".js-slideInTrigger").each(function(){o(this).addClass("u-slideIn")})}),o(window).on("load",function(){o(".js-slideInTrigger").each(function(){var e=o(this).offset().top-50,r=o(window).scrollTop();e-o(window).height()<=r&&o(this).addClass("u-slideIn-active")}),e(),s(),i()}),o(window).scroll(function(){e(),s(),i()}),o(window).resize(function(){s()});var t=[];function s(){var r=o("#header").outerHeight(!0);o(".js-highlight-point").each(function(e){t[e]=Math.round(parseInt(o(this).offset().top-r))})}function i(){var e=Math.round(o(window).scrollTop()),r=o("#g-nav li");o("#g-nav li").removeClass("current"),0<=e&&e<t[1]?o(r[0]).addClass("current"):e>=t[1]&&e<t[2]?o(r[1]).addClass("current"):e>=t[2]&&e<t[3]?o(r[2]).addClass("current"):e>=t[3]&&o(r[3]).addClass("current")}});for(var smoothScrollTrigger=document.querySelectorAll('a[href^="#"]'),_loop=function(o){smoothScrollTrigger[o].addEventListener("click",function(e){e.preventDefault();var r=smoothScrollTrigger[o].getAttribute("href"),t=document.getElementById(r.replace("#","")).getBoundingClientRect().top,e=window.pageYOffset,r=document.getElementById("header").offsetHeight;window.scrollTo({top:t+e-r,behavior:"smooth"})})},i=0;i<smoothScrollTrigger.length;i++)_loop(i);var slideUp=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=r+"ms",e.style.transitionTimingFunction="ease",e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function"),e.classList.remove("is-open")},r)},slideDown=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;e.classList.add("is-open"),e.style.removeProperty("display");var t=window.getComputedStyle(e).display;e.style.display=t="none"===t?"flex":t;t=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=r+"ms",e.style.transitionTimingFunction="ease",e.style.height=t+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function")},r)},slideToggle=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,r)},accordions=document.querySelectorAll(".js-accordion"),accordionsArr=Array.prototype.slice.call(accordions);accordionsArr.forEach(function(e){var e=e.querySelectorAll(".js-accordion-trigger"),o=Array.prototype.slice.call(e);o.forEach(function(t){t.addEventListener("click",function(r){o.forEach(function(e){e!==r.target.parentElement&&(e.classList.remove("is-active"),e=e.querySelector(".p-QandA__answer"),slideUp(e))}),t.classList.toggle("is-active");var e=t.querySelector(".p-QandA__answer");slideToggle(e)})})});var $form=document.getElementById("form"),$submit=document.getElementById("contact-submit"),$form_name=$form.elements._name,$form_ruby=$form.elements._ruby,$form_DOB=$form.elements._DOB,$form_email=$form.elements._email,$form_address=$form.elements._address,$error_name=document.getElementById("error_name"),$error_ruby=document.getElementById("error_ruby"),$error_DOB=document.getElementById("error_DOB"),$error_email=document.getElementById("error_email"),$error_address=document.getElementById("error_address"),rubyValid=/^[ァ-ヶー　]+$/,emailValid=/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/;function update(e){$form.checkValidity()?$submit.removeAttribute("disabled"):$submit.setAttribute("disabled","disabled")}$form_name.addEventListener("change",function(e){$form_name.setCustomValidity(""),$form_name.classList.remove("is-error"),""==$form_name.value&&($form_name.setCustomValidity("お名前が入力されていません。"),$form_name.classList.add("is-error")),$error_name.innerHTML=$form_name.validationMessage}),$form_name.addEventListener("input",function(e){$form_name.setCustomValidity(""),""==$form_name.value?($form_name.setCustomValidity(" "),$form_name.classList.add("is-error")):$form_name.classList.remove("is-error"),$error_name.innerHTML=$form_name.validationMessage}),$form_ruby.addEventListener("change",function(e){$form_ruby.setCustomValidity(""),$form_ruby.classList.remove("is-error"),""==$form_ruby.value?($form_ruby.setCustomValidity("フリガナが入力されていません。"),$form_ruby.classList.add("is-error")):rubyValid.test($form_ruby.value)||($form_ruby.setCustomValidity("全角カタカナで入力してください。"),$form_ruby.classList.add("is-error")),$error_ruby.innerHTML=$form_ruby.validationMessage}),$form_ruby.addEventListener("input",function(e){$form_ruby.setCustomValidity(""),""==$form_ruby.value?($form_ruby.setCustomValidity(" "),$form_ruby.classList.add("is-error")):$form_ruby.classList.remove("is-error"),$error_ruby.innerHTML=$form_ruby.validationMessage}),$form_email.addEventListener("change",function(e){$form_email.setCustomValidity(""),$form_email.classList.remove("is-error"),""==$form_email.value?($form_email.setCustomValidity("メールアドレスが入力されていません。"),$form_email.classList.add("is-error")):emailValid.test($form_email.value)||(e.target.validationMessage||$form_email.setCustomValidity("メールアドレスの形式で入力されておりません。"),$form_email.classList.add("is-error")),$error_email.innerHTML=$form_email.validationMessage}),$form_email.addEventListener("input",function(e){$form_email.setCustomValidity(""),""==$form_email.value?($form_email.setCustomValidity(" "),$form_email.classList.add("is-error")):($form_email.setCustomValidity(" "),$form_email.classList.remove("is-error")),$error_email.innerHTML=$form_email.validationMessage}),$form_address.addEventListener("change",function(e){$form_address.setCustomValidity(""),$form_address.classList.remove("is-error"),""==$form_address.value&&($form_address.setCustomValidity("ご住所が入力されていません。"),$form_address.classList.add("is-error")),$error_address.innerHTML=$form_address.validationMessage}),$form_address.addEventListener("input",function(e){$form_address.setCustomValidity(""),""==$form_address.value?($form_address.setCustomValidity(" "),$form_address.classList.add("is-error")):$form_address.classList.remove("is-error"),$error_address.innerHTML=$form_address.validationMessage}),$form.addEventListener("change",update),$form.addEventListener("input",update),$form.addEventListener("submit",function(e){e.preventDefault()});