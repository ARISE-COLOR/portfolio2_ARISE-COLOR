"use strict";jQuery(function(i){i(function(){i(document).on("submit","#sendMail-check",function(e){var t=i(this),o=t.attr("action"),r=t.attr("method"),t=t.serialize(),n=document._confirmForm.onbtn.value;return i.ajax({type:r,url:o,data:t,dataType:!1,beforeSend:function(e,t){i(window).scrollTop(i("#contact").position().top)},complete:function(e,t){},success:function(e){"_back"==n?(i("#msg").html("恐れ入りますが、再度ご入力ください。"),i("#contactForm-return").html(e),i("#contactForm-input").show("fast"),i("#contact-text").show("fast")):"_send"==n&&i("#contactForm-return").html(e)},error:function(e,t,o){i("#msg").html("通信エラーが発生しました。")}}),!1}),i(document).on("submit","#sendmail",function(e){var t=i(this),o=t.attr("action"),r=t.attr("method"),t=t.serialize();return i.ajax({type:r,url:o,data:t,dataType:!1,beforeSend:function(e,t){i(window).scrollTop(i("#contact").position().top)},complete:function(e,t){},success:function(e){i("#contactForm-return").html(e),i("#contactForm-input").hide(),i("#contact-text").hide()},error:function(e,t,o){i("#msg").html("通信エラーが発生しました。")}}),!1})})});var setFillHeight=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},vw=window.innerWidth;window.addEventListener("resize",function(){vw!==window.innerWidth&&(vw=window.innerWidth,setFillHeight())}),window.addEventListener("load",setFillHeight);var htmlBody=document.documentElement,drawer_button=document.querySelector(".js-drawer-button"),g_nav=document.querySelector(".js-drawer-open");drawer_button.addEventListener("click",function(){"false"==drawer_button.getAttribute("aria-expanded")?(setFillHeight(),drawer_button.setAttribute("aria-expanded","true"),g_nav.classList.add("is-open"),g_nav.classList.remove("is-close"),htmlBody.classList.add("is-fixed"),document.addEventListener("touchmove",scroll_control,{passive:!1})):(drawer_button.setAttribute("aria-expanded","false"),g_nav.classList.add("is-close"),g_nav.classList.remove("is-open"),htmlBody.classList.remove("is-fixed"),document.removeEventListener("touchmove",scroll_control,{passive:!1}))});var header_nav=document.getElementById("header"),g_nav_a=header_nav.querySelectorAll("a"),g_nav_a_Arr=Array.prototype.slice.call(g_nav_a);g_nav_a_Arr.forEach(function(e){e.addEventListener("click",function(e){"false"==drawer_button.getAttribute("aria-expanded")||(drawer_button.setAttribute("aria-expanded","false"),g_nav.classList.add("is-close"),g_nav.classList.remove("is-open"),htmlBody.classList.remove("is-fixed"),document.removeEventListener("touchmove",scroll_control,{passive:!1}))})});var scroll_control=function(e){0<$(e.target).closest(".js-drawer-open").length?e.stopPropagation():e.preventDefault()},mediaQuery=window.matchMedia("(min-width: 768px)");function handleTabletChange(e){e.matches&&(drawer_button.setAttribute("aria-expanded","false"),g_nav.classList.remove("is-open"),g_nav.classList.remove("is-close"),htmlBody.classList.remove("is-fixed"),document.removeEventListener("touchmove",scroll_control,{passive:!1}))}mediaQuery.addEventListener("change",handleTabletChange),handleTabletChange(mediaQuery);var pageTopBtn=document.querySelector("#page-top");pageTopBtn.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})});var y_diff,y,y_target,count,selectedTarget,previousTarget,interval_ms=10,move_division=10,headerH=document.getElementById("header"),gap=headerH.offsetHeight,y_shift=gap,y_threhold=1,isMoving=!1,aTags=document.querySelectorAll("a");function scroll(e,t){e==selectedTarget?(count+=1,y+=y_diff/move_division,scrollTo(0,y),(y_diff=y_target-y)<0&&y_target<y||0<y_diff&&y<y_target?(Math.abs(y_diff)>=y_threhold?setTimeout(function(){scroll(e,t)},interval_ms):(scrollTo(0,y_target),document.querySelector("html").style.scrollBehavior="smooth",isMoving=!1,console.log("   end:",e)),2<=count&&t.setAttribute("href","#"+e)):1==count?setTimeout(function(){scroll(e,t)},interval_ms):(t.setAttribute("href","#"+e),document.querySelector("html").style.scrollBehavior="smooth",isMoving=!1,console.log("   end:",e))):(t.setAttribute("href","#"+e),console.log("cancel:",e))}function scroll_start(e,t){y=window.pageYOffset,y_diff=parseInt(document.getElementById(e).getBoundingClientRect().top),y_target=y_diff+y-y_shift,scroll(e,t)}function fadeIn(e,t,o){e.style.display="block",animation(e,t,o,"fade-in")}function fadeOut(e,t,o){animation(e,t,o,"fade-out"),e.addEventListener("animationend",function(){e.style.display="none"})}function animation(e,t,o,r){/^-?[0-9]+$/.test(t)?t+="ms":t="400ms",e.style.animation=[r,"forwards",t,o].join(" ")}aTags.forEach(function(t){t.onclick=function(){document.querySelector("html").style.scrollBehavior="auto";var e=t.getAttribute("href");null!=e&&"#"==e.substr(0,1)&&(e=e.substr(1),previousTarget==e&&0==isMoving||previousTarget!=e?(isMoving=!0,selectedTarget=e,t.removeAttribute("href"),count=0,console.log(" click:",e),scroll_start(e,t),previousTarget=e):(console.log("moving:",e),t.removeAttribute("href")))}});var aboutTrigger=document.querySelectorAll(".js-about-action"),pageTop=document.getElementById("page-top"),headerHight=document.getElementById("header").offsetHeight,aboutSection=document.getElementById("about").getBoundingClientRect(),aboutWindowY=window.pageYOffset,aboutSectionTop=aboutSection.top+aboutWindowY;function aboutSectionScroll(){aboutWindowY=window.pageYOffset;for(var e=0;e<aboutTrigger.length;e++)aboutSectionTop-headerHight<aboutWindowY?aboutTrigger[e].classList.add("action"):aboutTrigger[e].classList.remove("action")}window.addEventListener("scroll",aboutSectionScroll),window.addEventListener("load",aboutSectionScroll);for(var scrollInAnime=document.querySelectorAll(".js-scrollInTrigger"),scrollInAnimeRect=[],scrollInAnimeTop=[],windowY=window.pageYOffset,windowH=window.innerHeight,scrollInAnime_remainder=100,i=0;i<scrollInAnime.length;i++)scrollInAnimeRect.push(scrollInAnime[i].getBoundingClientRect());for(i=0;i<scrollInAnimeRect.length;i++)scrollInAnimeTop.push(scrollInAnimeRect[i].top+windowY);function scrollInProcessing(){windowY=window.pageYOffset;for(var e=0;e<scrollInAnime.length;e++)windowY>scrollInAnimeTop[e]-windowH+scrollInAnime_remainder&&scrollInAnime[e].classList.add("show")}window.addEventListener("resize",function(){windowH=window.innerHeight}),window.addEventListener("scroll",scrollInProcessing),window.addEventListener("load",scrollInProcessing);var slideUp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.transitionTimingFunction="ease",e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,setTimeout(function(){e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function"),e.classList.remove("is-open")},t)},slideDown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;e.classList.add("is-open"),e.style.removeProperty("display");var o=window.getComputedStyle(e).display;e.style.display=o="none"===o?"flex":o;o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.transitionTimingFunction="ease",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),setTimeout(function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-timing-function")},t)},slideToggle=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:300;return("none"===window.getComputedStyle(e).display?slideDown:slideUp)(e,t)},accordions=document.querySelectorAll(".js-accordion"),accordionsArr=Array.prototype.slice.call(accordions);accordionsArr.forEach(function(e){var e=e.querySelectorAll(".js-accordion-trigger"),r=Array.prototype.slice.call(e);r.forEach(function(o){o.addEventListener("click",function(t){r.forEach(function(e){e!==t.target.parentElement&&(e.classList.remove("is-active"),e=e.querySelector(".p-QandA__answer"),slideUp(e))}),o.classList.toggle("is-active");var e=o.querySelector(".p-QandA__answer");slideToggle(e)})})});var $form=document.getElementById("sendmail"),$submit=document.getElementById("contact-submit"),$form_name=$form.elements._name,$form_ruby=$form.elements._ruby,$form_email=$form.elements._email,$form_address=$form.elements._address,$form_content=$form.elements._content,$error_name=document.getElementById("error_name"),$error_ruby=document.getElementById("error_ruby"),$error_email=document.getElementById("error_email"),$error_address=document.getElementById("error_address"),$error_content=document.getElementById("error_content"),rubyValid=/^[ァ-ヶー　]+$/,emailValid=/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/;function update(e){$form.checkValidity()?$submit.removeAttribute("disabled"):$submit.setAttribute("disabled","disabled")}$form_name.addEventListener("change",function(e){$form_name.setCustomValidity(""),$form_name.classList.remove("is-error"),""==$form_name.value&&($form_name.setCustomValidity("お名前が入力されていません。"),$form_name.classList.add("is-error")),$error_name.innerHTML=$form_name.validationMessage}),$form_name.addEventListener("input",function(e){$form_name.setCustomValidity(""),""==$form_name.value?($form_name.setCustomValidity(" "),$form_name.classList.add("is-error")):$form_name.classList.remove("is-error"),$error_name.innerHTML=$form_name.validationMessage}),$form_ruby.addEventListener("change",function(e){$form_ruby.setCustomValidity(""),$form_ruby.classList.remove("is-error"),""==$form_ruby.value?($form_ruby.setCustomValidity("フリガナが入力されていません。"),$form_ruby.classList.add("is-error")):rubyValid.test($form_ruby.value)||($form_ruby.setCustomValidity("全角カタカナで入力してください。"),$form_ruby.classList.add("is-error")),$error_ruby.innerHTML=$form_ruby.validationMessage}),$form_ruby.addEventListener("input",function(e){$form_ruby.setCustomValidity(""),""==$form_ruby.value?($form_ruby.setCustomValidity(" "),$form_ruby.classList.add("is-error")):$form_ruby.classList.remove("is-error"),$error_ruby.innerHTML=$form_ruby.validationMessage}),$form_email.addEventListener("change",function(e){$form_email.setCustomValidity(""),$form_email.classList.remove("is-error"),""==$form_email.value?($form_email.setCustomValidity("メールアドレスが入力されていません。"),$form_email.classList.add("is-error")):emailValid.test($form_email.value)||(e.target.validationMessage||$form_email.setCustomValidity("メールアドレスの形式で入力されておりません。"),$form_email.classList.add("is-error")),$error_email.innerHTML=$form_email.validationMessage}),$form_email.addEventListener("input",function(e){$form_email.setCustomValidity(""),""==$form_email.value?($form_email.setCustomValidity(" "),$form_email.classList.add("is-error")):($form_email.setCustomValidity(" "),$form_email.classList.remove("is-error")),$error_email.innerHTML=$form_email.validationMessage}),$form_content.addEventListener("change",function(e){$form_content.setCustomValidity(""),$form_content.classList.remove("is-error"),""==$form_content.value&&($form_content.setCustomValidity("お問い合わせ内容が入力されていません。"),$form_content.classList.add("is-error")),$form_content.innerHTML=$form_address.validationMessage}),$form_content.addEventListener("input",function(e){$form_content.setCustomValidity(""),""==$form_content.value?($form_content.setCustomValidity(" "),$form_content.classList.add("is-error")):$form_content.classList.remove("is-error"),$form_content.innerHTML=$form_content.validationMessage}),$form.addEventListener("change",update),$form.addEventListener("input",update);